<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Мои слова - LinguaParser</title>
        <link rel="stylesheet" href="/static/css/style.css">
    </head>
    <body>
        <div class="container">
            {% include 'navbar.html' %}

            <h1>Мои слова</h1>

            <div class="summary">
                <p><strong>Всего слов в базе:</strong> {{ total_words }}</p>
            </div>

            {% if words %}
            <div class="words-table">
                <table>
                    <thead>
                        <tr>
                            <th>Слово</th>
                            <th>Перевод</th>
                            <th>Рейтинг</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for word in words %}
                        <tr>
                            <td class="word-cell">{{ word.word }}</td>
                            <td class="translation-cell">
                                <form action="/words/{{ word.id }}/edit" method="post" class="edit-form">
                                    <input type="text" name="translation" value="{{ word.translation }}" class="translation-input" />
                                    <button type="submit" class="btn small">Сохранить</button>
                                </form>
                            </td>
                            <td class="score-cell">
                                <form action="/words/{{ word.id }}/score" method="post" class="score-form">
                                    <input type="number" 
                                    name="score" 
                                    value="{{ word.score if word.score is defined else 0 }}" 
                                    min="0" 
                                    max="10" 
                                    step="0.5"
                                    class="score-input" />
                                    <button type="submit" class="btn small">Обновить</button>
                                </form>
                            </td> 
                            <td class="actions-cell">
                                <form action="/words/{{ word.id }}/delete" method="post" class="delete-form">
                                    <button type="submit" class="btn danger small" 
                                        onclick="return confirm('Удалить слово {{ word.word }}?')">
                                        Удалить
                                    </button>
                                </form>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="no-words">
                <p>Слов пока нет. <a href="/">Добавьте слова через парсинг</a></p>
            </div>
            {% endif %}

            <div class="actions">
                <a href="/" class="btn">К парсингу</a>
                <a href="/study" class="btn">Изучение</a>
            </div>
        </div>
    </body>
</html>
